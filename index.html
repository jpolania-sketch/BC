<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Imagen del Mes</title>
    <style>
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            height: 100vh; 
            margin: 0; 
            background: #2c3e50; 
            color: white;
        }
        #contenedor-imagen { 
            display: none; 
            background: #ffffff; 
            padding: 25px; 
            border-radius: 20px; 
            box-shadow: 0 15px 35px rgba(0,0,0,0.5); 
            text-align: center; 
            max-width: 450px;
            color: #333;
        }
        img { 
            width: 100%; 
            border-radius: 12px; 
            height: auto; 
            margin-top: 15px;
        }
        .mensaje-espera { text-align: center; padding: 20px; }
    </style>
</head>
<body>

    <div id="contenedor-imagen">
        <h2 id="titulo">Â¡Tu imagen de este mes!</h2>
        <div id="espacio-img"></div>
        <p style="font-size: 0.9em; color: #666;">Vuelve en 30 dÃ­as para descubrir la siguiente.</p>
    </div>

    <div id="mensaje-bloqueo" class="mensaje-espera" style="display:none;">
        <h1>Â¡Hola! ðŸ‘‹</h1>
        <p>Ya viste tu imagen correspondiente a este periodo.</p>
        <p>Regresa pronto para ver una nueva selecciÃ³n.</p>
    </div>

    <script>
        function gestionarImagen() {
            const ultimaVisita = localStorage.getItem('fecha_ultima_imagen');
            const ahora = new Date().getTime();
            const TREINTA_DIAS = 30 * 24 * 60 * 60 * 1000;

            if (!ultimaVisita || (ahora - ultimaVisita) > TREINTA_DIAS) {
                
                // LÃ³gica para elegir un nÃºmero aleatorio entre 1 y 33
                const numeroImagen = Math.floor(Math.random() * 33) + 1;
                // Como estÃ¡n en la misma carpeta, la ruta es solo el nombre
                const rutaImagen = `${numeroImagen}.png`;

                document.getElementById('espacio-img').innerHTML = `<img src="${rutaImagen}" alt="Imagen mensual">`;
                document.getElementById('contenedor-imagen').style.display = 'block';

                // Guardar la fecha del dÃ­a de hoy
                localStorage.setItem('fecha_ultima_imagen', ahora);

            } else {
                // Mostrar mensaje de que debe esperar
                document.getElementById('mensaje-bloqueo').style.display = 'block';
            }
        }

        window.onload = gestionarImagen;
    </script>
</body>
</html>
